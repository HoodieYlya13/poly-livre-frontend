import { useTranslations } from "next-intl";

interface IconData {
  path: string;
  strokeWidth?: number;
}

interface IconProps {
  icon: IconData;
}

function Icon({ icon }: IconProps) {
  return (
    <div className="size-10 @3xs:size-12 rounded-md bg-primary text-secondary flex items-center justify-center">
      <svg
        width="48"
        height="48"
        viewBox="0 0 48 48"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        className="size-3/4"
      >
        {icon.strokeWidth ? (
          <path
            d={icon.path}
            stroke="currentColor"
            strokeWidth={icon.strokeWidth}
          />
        ) : (
          <path d={icon.path} fill="currentColor" />
        )}
      </svg>
    </div>
  );
}

interface TileProps {
  icon: IconData;
  number: string;
  title: string;
  description: string;
}

function Tile({ icon, number, title, description }: TileProps) {
  return (
    <div className="flex bg-secondary/50 rounded-xl custom-shadow custom-shadow-hover aspect-5/4 w-full max-w-xs overflow-hidden @container">
      <div className="flex flex-col gap-3 @2xs:gap-4 @xs:gap-5 p-3 @2xs:p-4 @xs:p-5 w-full">
        <div className="flex flex-row justify-between items-center gap-2">
          <Icon icon={icon} />

          <div className="text-3xl @3xs:text-4xl text-primary/15 font-black">
            {number}
          </div>
        </div>

        <h3 className="font-bold text-sm @3xs:text-base @xs:text-lg">
          {title}
        </h3>

        <p className="text-xs @3xs:text-sm @xs:text-sm">{description}</p>
      </div>
    </div>
  );
}

interface TileData {
  id: string;
  number: string;
  icon: IconData;
}

const TILES_DATA: TileData[] = [
  {
    id: "STEP_1",
    number: "01",
    icon: {
      path: "M19 32C15.3667 32 12.292 30.7413 9.776 28.224C7.26 25.7067 6.00133 22.632 6 19C5.99867 15.368 7.25733 12.2933 9.776 9.776C12.2947 7.25867 15.3693 6 19 6C22.6307 6 25.706 7.25867 28.226 9.776C30.746 12.2933 32.004 15.368 32 19C32 20.4667 31.7667 21.85 31.3 23.15C30.8333 24.45 30.2 25.6 29.4 26.6L40.6 37.8C40.9667 38.1667 41.15 38.6333 41.15 39.2C41.15 39.7667 40.9667 40.2333 40.6 40.6C40.2333 40.9667 39.7667 41.15 39.2 41.15C38.6333 41.15 38.1667 40.9667 37.8 40.6L26.6 29.4C25.6 30.2 24.45 30.8333 23.15 31.3C21.85 31.7667 20.4667 32 19 32ZM19 28C21.5 28 23.6253 27.1253 25.376 25.376C27.1267 23.6267 28.0013 21.5013 28 19C27.9987 16.4987 27.124 14.374 25.376 12.626C23.628 10.878 21.5027 10.0027 19 10C16.4973 9.99733 14.3727 10.8727 12.626 12.626C10.8793 14.3793 10.004 16.504 10 19C9.996 21.496 10.8713 23.6213 12.626 25.376C14.3807 27.1307 16.5053 28.0053 19 28Z",
    },
  },
  {
    id: "STEP_2",
    number: "02",
    icon: {
      path: "M24 43C21.3 41.3 16.4 40 13 40C9.7 40 6.3 40.6 3.5 42.1C3.3 42.2 3.2 42.2 3 42.2C2.5 42.2 2 41.7 2 41.2V12C3.2 11.1 4.5 10.5 6 10C8.22 9.3 10.66 9 13 9C16.9 9 21.1 9.8 24 12C26.9 9.8 31.1 9 35 9C37.34 9 39.78 9.3 42 10C43.5 10.5 44.8 11.1 46 12V41.2C46 41.7 45.5 42.2 45 42.2C44.8 42.2 44.7 42.2 44.5 42.1C41.7 40.6 38.3 40 35 40C31.6 40 26.7 41.3 24 43ZM24 16V39C26.7 37.3 31.6 36 35 36C37.4 36 39.8 36.3 42 37V14C39.8 13.3 37.4 13 35 13C31.6 13 26.7 14.3 24 16ZM26 23C28.22 21.64 31.2 21 35 21C36.82 21 38.52 21.18 40 21.56V18.46C38.26 18.16 36.58 18 35 18C31.46 18 28.46 18.56 26 19.68V23ZM35 23.34C31.58 23.34 28.58 23.86 26 24.92V28.3C28.22 27 31.2 26.32 35 26.32C37.08 26.32 38.76 26.48 40 26.8V23.8C38.26 23.48 36.58 23.34 35 23.34ZM40 29.14C38.26 28.82 36.58 28.66 35 28.66C31.34 28.66 28.34 29.2 26 30.26V33.64C28.22 32.32 31.2 31.66 35 31.66C37.08 31.66 38.76 31.82 40 32.14V29.14Z",
    },
  },
  {
    id: "STEP_3",
    number: "03",
    icon: {
      path: "M43.2 22.44L34 15.04V10C34.0489 8.98988 33.6954 8.00156 33.0168 7.25173C32.3382 6.5019 31.3899 6.05176 30.38 6H7.57996C6.57709 6.06192 5.639 6.51647 4.96892 7.26517C4.29883 8.01387 3.9507 8.99643 3.99996 10V30C3.9814 30.7942 4.19975 31.576 4.62718 32.2456C5.05461 32.9152 5.67176 33.4424 6.39996 33.76C6.03163 34.6611 5.88808 35.6383 5.98169 36.6072C6.07531 37.5762 6.40328 38.5078 6.9373 39.3217C7.47133 40.1356 8.19537 40.8074 9.04696 41.279C9.89854 41.7506 10.8521 42.008 11.8253 42.0289C12.7986 42.0497 13.7623 41.8334 14.6333 41.3987C15.5043 40.964 16.2565 40.3239 16.8249 39.5336C17.3933 38.7433 17.7608 37.8266 17.8959 36.8625C18.0309 35.8985 17.9294 34.916 17.6 34H30.32C29.991 34.9063 29.8853 35.8784 30.0118 36.8342C30.1383 37.79 30.4932 38.7012 31.0466 39.4907C31.5999 40.2802 32.3354 40.9248 33.1907 41.3697C34.0459 41.8147 34.9958 42.047 35.96 42.047C36.9241 42.047 37.874 41.8147 38.7293 41.3697C39.5845 40.9248 40.32 40.2802 40.8733 39.4907C41.4267 38.7012 41.7816 37.79 41.9081 36.8342C42.0346 35.8784 41.9289 34.9063 41.6 34H42C42.5304 34 43.0391 33.7893 43.4142 33.4142C43.7892 33.0391 44 32.5304 44 32V24C43.9938 23.6963 43.9186 23.398 43.78 23.1277C43.6414 22.8574 43.443 22.6222 43.2 22.44ZM40 24.96V30H34V20.16L40 24.96ZM14 36C14 36.3956 13.8827 36.7822 13.6629 37.1111C13.4431 37.44 13.1308 37.6964 12.7653 37.8478C12.3999 37.9991 11.9977 38.0387 11.6098 37.9616C11.2218 37.8844 10.8655 37.6939 10.5857 37.4142C10.306 37.1345 10.1156 36.7781 10.0384 36.3902C9.96122 36.0022 10.0008 35.6001 10.1522 35.2346C10.3036 34.8692 10.5599 34.5568 10.8888 34.3371C11.2177 34.1173 11.6044 34 12 34C12.5304 34 13.0391 34.2107 13.4142 34.5858C13.7892 34.9609 14 35.4696 14 36ZM38 36C38 36.3956 37.8827 36.7822 37.6629 37.1111C37.4431 37.44 37.1308 37.6964 36.7653 37.8478C36.3999 37.9991 35.9977 38.0387 35.6098 37.9616C35.2218 37.8844 34.8654 37.6939 34.5857 37.4142C34.306 37.1345 34.1156 36.7781 34.0384 36.3902C33.9612 36.0022 34.0008 35.6001 34.1522 35.2346C34.3036 34.8692 34.5599 34.5568 34.8888 34.3371C35.2177 34.1173 35.6044 34 36 34C36.5304 34 37.0391 34.2107 37.4142 34.5858C37.7892 34.9609 38 35.4696 38 36Z",
    },
  },
  {
    id: "STEP_4",
    number: "04",
    icon: {
      path: "M40 16C38.5215 12.9991 36.2325 10.472 33.3921 8.70475C30.5517 6.93746 27.2733 6.00053 23.928 6C14.028 6 6 14.06 6 24M8 32C9.47851 35.0009 11.7675 37.528 14.6079 39.2952C17.4483 41.0625 20.7267 41.9995 24.072 42C33.972 42 42 33.94 42 24M18 32H6V44M42 4V16H30",
      strokeWidth: 4,
    },
  },
];

export default function InformationTiles() {
  const t = useTranslations("HOME_PAGE.HOW_IT_WORKS.STEPS");

  return (
    <div className="w-full grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 justify-items-center mx-auto max-w-2xl lg:max-w-8xl">
      {TILES_DATA.map((tile) => (
        <Tile
          key={tile.id}
          icon={tile.icon}
          number={tile.number}
          title={t(`${tile.id}.TITLE`)}
          description={t(`${tile.id}.DESCRIPTION`)}
        />
      ))}
    </div>
  );
}
